<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ONLY</title>

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="../styling/taskpage.css">
        <link rel="stylesheet" href="../styling/navside.css">
    </head>
    <body>

        <div class="topbox">
            <div class="logo">
                <img class="logo1" src="https://res.cloudinary.com/dp6gegfek/image/upload/v1699446914/Tej/AAC-logo_cggiv4.png">
            </div>
            <div class="npicons">
                <div class="notification-icon"><img class="np" id="notification" style="left: 30px;" src="https://res.cloudinary.com/dp6gegfek/image/upload/v1699447782/Tej/notification-logo_ixgll2.png"></div>
                <div class="notification-box">
                    <!-- Content for notification box -->
                   <h1 style="font-size: x-large; padding: 20px;">No notifications..!!</h1>
                </div>
                <a href="../../mentor/html/profile.html"> <img class="np" src="https://res.cloudinary.com/dniqddd3d/image/upload/v1701264672/profile-img_1_anla9l.png"></a>>
            </div>
        </div>
        <div style="float: left; position:relative; margin-top: 75px;  margin-left: 70px;">
            <div class="task">
            
                <div id="titles">
                    <h2 id="head">CLASS LINK </h2><br>
                    <h2 id="head">CLASS TIME </h2><br>
                    <h2 id="head">TASK TITLE</h2><br>
                    <h2 id="head">DESCRIPTION</h2><br>
                    <h2 id="head">DUE DATE</h2>
                    <div id="taskData"></div>
              
                <button id="upload">UPLOAD</button>
        <br><br><br><br><br><br><br>
            
            </div></div>
            <script src="taskpage.js"></script>
        <script>
           document.addEventListener('DOMContentLoaded', () => {
            const taskDataDiv = document.getElementById('taskData');
        
            
            fetch('/tasks')
                .then(response => response.json())
                .then(tasksData => {
                    tasksData.forEach(task => {
                        const taskDetails = `
                            <p>CLASS TIME: ${task.time ? new Date(task.time).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : 'N/A'}</p>
                            <p>TASK TITLE: ${task.title || 'N/A'}</p>
                            <p>DESCRIPTION: ${task.description || 'N/A'}</p>
                            <p>DUE DATE: ${task.dueDate ? new Date(task.dueDate).toLocaleDateString() : 'N/A'}</p>
                            <hr>
                        `;
                        taskDataDiv.innerHTML += taskDetails;
                    });
                })
                .catch(error => console.error('Error fetching tasks:', error));
        
            fetch('/links')
                .then(response => response.json())
                .then(linksData => {
                    linksData.forEach(link => {
                        const linkDetails = `
                            <p>CLASS LINK: ${link.link || 'N/A'}</p>
                            <p>CLASS TIME: ${link.time ? new Date(link.time).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : 'N/A'}</p>
                            <hr>
                        `;
                        taskDataDiv.innerHTML += linkDetails;
                    });
                })
                .catch(error => console.error('Error fetching links:', error));
        });
        
            </script>
        </div>

        
        <div class="parent-box">
            <div class="icon-box  ">
                <br><br><br><br>
                <a href="../../mentor/html/home.html"><div class="icons" id="icon-1" ></div></a>
                <a href="../../mentor/html/ongoingTasks.html"><div class="icons" id="icon-2"></div></a>
                <a href="../../mentor/html/myprojects.html"><div class="icons" id="icon-3"></div></a>
                <a href="../../mentor/html/mymentor.html"><div class="icons" id="icon-4"></div></a>
                <a href="../../mentor/html/groups.html"><div class="icons" id="icon-5"></div></a><br><br><br><br><br>
                <a href="../../login.html"><div class="icons" id="icon-6"></div></a>
            </div>  
            <script>
            document.addEventListener('DOMContentLoaded', function() {
                const notificationIcon = document.querySelector('.notification-icon');
                const notificationBox = document.querySelector('.notification-box');
            
                notificationIcon.addEventListener('click', function() {
                    if (notificationBox.style.display === 'none') {
                        notificationBox.style.display = 'block';
                    } else {
                        notificationBox.style.display = 'none';
                    }
                });
            });
            </script>        
    </body>
</html>

<!-- <html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../styling/taskpage.css">
</head>
<body>
    <div class="task">
        <div id="nav"></div>
        <div id="side"></div>
        <div id="titles">
            <h2 id="head">CLASS LINK </h2>
            <h2 id="head">CLASS TIME </h2>  
            <h2 id="head">TASK TITLE</h2>
            <h2 id="head">DESCRIPTION</h2>
            <h2 id="head">DUE DATE</h2>
            <div id="taskData"></div>
      
        <button id="upload">UPLOAD</button>
<br><br><br><br><br><br><br>
    
    </div></div>
    <script src="taskpage.js"></script>
<script>
   document.addEventListener('DOMContentLoaded', () => {
    const taskDataDiv = document.getElementById('taskData');

    
    fetch('/tasks')
        .then(response => response.json())
        .then(tasksData => {
            tasksData.forEach(task => {
                const taskDetails = `
                    <p>CLASS TIME: ${task.time ? new Date(task.time).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : 'N/A'}</p>
                    <p>TASK TITLE: ${task.title || 'N/A'}</p>
                    <p>DESCRIPTION: ${task.description || 'N/A'}</p>
                    <p>DUE DATE: ${task.dueDate ? new Date(task.dueDate).toLocaleDateString() : 'N/A'}</p>
                    <hr>
                `;
                taskDataDiv.innerHTML += taskDetails;
            });
        })
        .catch(error => console.error('Error fetching tasks:', error));

    fetch('/links')
        .then(response => response.json())
        .then(linksData => {
            linksData.forEach(link => {
                const linkDetails = `
                    <p>CLASS LINK: ${link.link || 'N/A'}</p>
                    <p>CLASS TIME: ${link.time ? new Date(link.time).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }) : 'N/A'}</p>
                    <hr>
                `;
                taskDataDiv.innerHTML += linkDetails;
            });
        })
        .catch(error => console.error('Error fetching links:', error));
});

    </script>
    
</body>
</html> -->

